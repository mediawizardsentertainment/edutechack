let clickCounter=0;let contentToCopy='';let countdownInterval;let remainingTime;let isTabActive=!0;let debounceTimeout;async function fetchServerOneContentWithRetry(maxRetries=10,retryDelay=1000){const url="https://edutechack.com/Prime-Video-cookies/";const container=document.getElementById("serverOneContainer");let attempts=0;const proxies=["https://api.codetabs.com/v1/proxy/?quest=","https://api.allorigins.win/raw?url=","https://app.scrapingbee.com/api/v1/?api_key=9PXTFOZ5ON6YTWD1KGTJXTKXJ8TADW5L5OILACRWRUEHPMAKDBEO7BDSIIYEK7SLKGSKAXNIKY5BRRRD&url="];while(attempts<maxRetries){try{const proxyUrl=proxies[attempts%proxies.length]+encodeURIComponent(url);const response=await fetch(proxyUrl);if(!response.ok)throw new Error("Failed to fetch content from Server One");const htmlText=await response.text();const parser=new DOMParser();const doc=parser.parseFromString(htmlText,"text/html");const preElement=doc.querySelector("pre");if(preElement){contentToCopy=preElement.textContent;const fragment=document.createDocumentFragment();const serverName=document.createElement("h3");serverName.textContent="Server One";serverName.style.cssText="margin: 0 0 10px 0; color: #003366; text-align: center;";fragment.appendChild(serverName);const dateContainer=document.createElement("div");dateContainer.textContent=`Updated: ${new Date().toLocaleString()}`;dateContainer.style.cssText="background-color: #e9f5ff; border: 1px solid #b6d3e8; padding: 10px 20px; border-radius: 5px; margin-bottom: 15px; font-size: 1.1em; font-weight: bold; color: #003366;";fragment.appendChild(dateContainer);const newPreElement=document.createElement("pre");newPreElement.textContent=preElement.textContent;newPreElement.style.cssText="background-color: #f9f9f9; border: 1px solid #ddd; padding: 10px; border-radius: 5px; overflow-y: auto; max-height: 250px; user-select: none;";fragment.appendChild(newPreElement);const copyButton=document.createElement("button");copyButton.textContent="Copy Cookies";copyButton.style.cssText="padding: 14px 28px; background-color: #003366; color: white; border: none; border-radius: 10px; cursor: pointer; margin-top: 10px; width: 100%; font-size: 1.2em; text-align: center; display: block; box-sizing: border-box;";fragment.appendChild(copyButton);const copiedMessage=document.createElement("div");copiedMessage.textContent="Code Copied!";copiedMessage.style.cssText="margin-top: 10px; font-size: 1.1em; color: green; text-align: center; display: none;";fragment.appendChild(copiedMessage);copyButton.addEventListener("click",debounce(()=>{clickCounter++;if(clickCounter<=5){copyButton.textContent=`${5 - clickCounter} times click left`;const examplePages=["https://sillinesswoollen.com/d9n4mdfa?key=0a8dcfc1cd8e865a1c08241aa01ee87a","https://sillinesswoollen.com/mk62b9wv?key=cbb8b23737bdee39a20455c04c07d33e","https://sillinesswoollen.com/ii05k2payq?key=2eadb04667478811968b402fc3214db7","https://sillinesswoollen.com/xupcrpvb4g?key=36e21e996da614c45176cd55120a2818","https://sillinesswoollen.com/fq4w25pp3?key=55036904f32c3eb7441696cf73b2f40c",];window.open(examplePages[clickCounter-1],"_blank")}else if(clickCounter===6){copiedMessage.style.display="block";setTimeout(()=>{copiedMessage.style.display="none"},2000);copyButton.textContent="Final Step: Copy Cookies";copyContentToClipboard(contentToCopy);copyButton.disabled=!0}},500));container.appendChild(fragment);return}else{throw new Error("Pre element not found in fetched content")}}catch(error){attempts++;if(attempts>=maxRetries){container.innerHTML=`<div style="text-align:center;color:red;font-size:1.2em">Error fetching content from Server One: ${error.message}. Please refresh the page or <a href="https://discord.gg/DaMSMFsSJJ" style="color:#036;font-weight:700" target="_blank">Contact Discord</a>.</div>`;return}
await new Promise((resolve)=>setTimeout(resolve,retryDelay))}}}
function copyContentToClipboard(content){const textArea=document.createElement("textarea");textArea.value=content;document.body.appendChild(textArea);textArea.select();document.execCommand("copy");document.body.removeChild(textArea)}
function debounce(func,delay){return function(){clearTimeout(debounceTimeout);debounceTimeout=setTimeout(()=>func.apply(this,arguments),delay)}}
function startFuelCountdown(duration,displayElementId){remainingTime=duration;const displayElement=document.getElementById(displayElementId);const container=document.getElementById("serverOneContainer");const progressBar=document.getElementById("fuelBar");const fuelContainer=document.getElementById("fuelContainer");if(!displayElement||!progressBar||!fuelContainer)return;fetchServerOneContentWithRetry();countdownInterval=setInterval(()=>{if(isTabActive){if(remainingTime>0){displayElement.textContent=`Please wait, Cookies Downloading.... (${Math.round(((duration - remainingTime) / duration) * 100)}%)`;progressBar.style.width=`${((duration - remainingTime) / duration) * 100}%`;remainingTime--}else{clearInterval(countdownInterval);displayElement.textContent="";fuelContainer.style.display="none";container.style.display="block"}}},1000)}
document.addEventListener("visibilitychange",()=>{if(document.hidden){isTabActive=!1}else{isTabActive=!0}});document.addEventListener("DOMContentLoaded",()=>{startFuelCountdown(60,"countdownDisplay")})
